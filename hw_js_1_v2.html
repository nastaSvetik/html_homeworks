<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Домашнее задание JavaScript 1</title>
</head>
<body>
<h1>Домашнее задание по JavaScript 1</h1>
	<h2>Задача №1</h2>
	<p>Заданы произвольные время и день недели. Написать скрипт состояния магазина (открыт, закрыт, на перерыве), если извесно, что магазин работает с 8 до 19, перерыв с 13:30 до 14:30, выходной - воскресенье. Результат вывести в консоль.</p>
		
	<script type="text/javascript">
	console.log('Task # 1');
	var day = 2; 
	var hour = 14;
	var minute = 30;
	var state = '';

	if (day == 6 || hour >= 19 || (hour >= 0 && hour < 8) ){
		state ='Закрыт';
	}	
	else if ( (hour == 13 && minute >=30) || (hour == 14 && minute <30)) {
		state ='На перерыве';    	
	}
	else {
		state = 'Открыт ';
	}
	console.log('В ' + hour + ':' + minute + ' ' + (day+1) + 'го дня недели статус магазина: ' + state);
	console.log('*********');
	</script>



	<h2>Задача №2</h2>
	<p>Написать скрипт подсчета суммы всех чисел, кратных 3, в диапазоне от 1 до 20. Вывести результат в консоль. Использовать <b>while</b> и <b>тернарный оператор</b>.</p>

	<script type="text/javascript">
	console.log('Task # 2');
	var imin = 1;
	var imax = 20;
	var mod = 3;
	var sum = 0;
	while ( imin <= imax ){
		(imin % mod == 0)?(sum += imin):0;
		imin++;
	}
	console.log(sum);
	console.log('*********');
	</script>



	<h2>Задача №3</h2>
	<p>Написать скрипт подсчета суммы всех нечетных чисел, кратных 3, в диапазоне от 1 до 30. Вывести результат в консоль. Использовать <b>for</b>, <b>continue</b>.</p>

	<script type="text/javascript">
	console.log('Task # 3');
	var imin = 1;
	var imax = 30;
	var mod = 3;
	var sum2 = 0;
	for (var i = imin; i <= imax; i++) {
		if (i%2 == 0 || i%mod != 0) continue;		
		sum2 += i;  
	}
	console.log (sum2);
	console.log('*********');
	</script>


	<h2>Задача №4</h2>
	<p>Написать скрипт вывода в консоль всех чисел, кратных 4, в диапазоне от 1 до 30. Использовать <b>break</b>.</p>
		
	<script type="text/javascript">
	console.log('Task # 4');
	var imin = 1;
	var imax = 30;
	var mod = 4; 
	do {
		if (imin%mod == 0) console.log(imin);
		//(imin%mod == 0)?console.log (imin):0;
		imin++;
		if (imin > imax) break;
		}
	while (true);
	console.log('*********');
	</script>



	<h2>Задача №5</h2>
	<p>Написать функцию, которая выводит в консоль среднее арифметическое двух произвольных чисел. Использовать <b>new Function</b></p>

	<script type="text/javascript">
	console.log('Task # 5');
	var mediate = new Function('a,b', 'console.log((a+b)/2)');
	mediate (5,10);
	console.log('*********');		
	</script>



	<h2>Задача №6</h2>
	<p>Написать функцию, которая рекурсивно рассчитывает сумму чисел от 1 до заданного в качестве параметра N. Использовать Function Declaration. Результат вывести в консоль.</p>
	<pre class="hometask">var n = 10.5;
//...
console.log('Сумма чисел от 1 до ' + n + ' равна: ' + sumRecursive(n));</pre>
	<script type="text/javascript">
	console.log('Task # 6');
	var n = 5.5;
	function sumRecursive(n){
		if (n<=0) return false;
		var floor;
		r = Math.floor(n);
		if (r != 1) return (r+sumRecursive(n-1));
		else return (1+(floor = n - Math.floor(n)));
		//return (r != 1)? (r+sumRecursive(n-1)):(1+(floor = n - Math.floor(n)));	
	}
	console.log('Сумма чисел от 1 до ' + n + ' равна: ' + sumRecursive(n));
	console.log('*********');		
	</script>




	<h2>Задача №7</h2>
	<p>Написать функцию, расчета стоимости электроэнергии, потребленной двигателем в течение суток. Мощность двигателя - 2.5 кВт. Цена 1 кВт*ч - 1.68 грн. В период с 23:00 до 7:00 тариф уменьшается в два раза. На вход программа получает время начала и время завершения работы двигателя (часы, целое число от 0 до 24). Использовать Function Expression. Результат вывести в консоль.<p>
	<p>по задаче 7 - данные приходят в рамках одних суток. Т.е. данные для `startHour>endHour` считать ошибкой ввода и выводить для них ноль, данные для `startHour==endHour` считать, что двигатель не работал и так же ноль грн. + подумайте по поводу решения с помощью цикла, на самом деле оно проще. <p>
	
	<script type="text/javascript">
	console.log('Task # 7');

	var startHour = 0, endHour = 12;
	var countEnergyCost = function(startHour, endHour){
		var tarif = 1.68;		
		var power = 2.5;		
		if (startHour > endHour || startHour > 24 || endHour > 24) return 'Неверный ввод';		
		else if (startHour == endHour) return 'Двигатель не работал';		
		else if (startHour >= 7 && endHour <=23) return (endHour - startHour) * tarif * power;		
		else if (startHour >= 7 && endHour == 24) return (23 - startHour + 1/2) * tarif * power;		
		else if (startHour >= 0 && endHour <= 7) return (endHour - startHour) * tarif * power / 2;		
		else if (startHour >=0 && endHour <=23) return ((7 - startHour) * tarif * power / 2 + (endHour - 7) * tarif * power);	
		else if (startHour >= 0 && endHour == 24) return ((23 - 7) * tarif * power + (7 - startHour + 1) * tarif * power / 2);
	};	
	console.log('В период с ' + startHour + ' до ' + endHour + ' часов потреблено энергии на  ' + countEnergyCost(startHour, endHour) + ' грн. ');

	console.log('*********');		
	</script>
	



	<h2>Задача №7.1</h2>
	<p>Предыдущую задачу можно решить двумя способами: с циклом и без. Попробуйте найти решение, отличное от вашего (если вы использовали цикл, то попробуйте решить без цикла и наоборот).</p>
	<script type="text/javascript">
	console.log('Task # 7.1');
	
	var countEnergyCost_v2 = function(startHour, endHour){
		var tarif = 1.68;		
		var power = 2.5;		
		var pricePerHour = tarif * power;
		var pricePerHourDisc = (tarif + power) / 2;
		var i = startHour;
		var result = 0;
		if (startHour > endHour || startHour > 24 || endHour > 24) return 'Неверный ввод';		
		else if (startHour == endHour) return 'Двигатель не работал';
		while (i < endHour) {
			if (i >= 0 && i <= 6 || i == 23) result += pricePerHourDisc;
			else if (i >=7 && i < 23) result += pricePerHour;  
			i++;
		};
		return result;
	};	
	console.log('В период с ' + startHour + ' до ' + endHour + ' часов потреблено энергии на  ' + countEnergyCost_v2(startHour, endHour) + ' грн. ');

	console.log('*********');		
	</script>
	


</body>
</html>